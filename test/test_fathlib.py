import unittest

import fathlib


class TestPurePosixPath(unittest.TestCase):
    def test___init__(self) -> None:
        for args, expected in (
            (("",), "."),
            (("/",), "/"),
            (("//",), "//"),
            (("///",), "/"),
            (("////",), "/"),
            (("a",), "a"),
            (("a/",), "a"),
            (("a//",), "a"),
            (("/a",), "/a"),
            (("/a/",), "/a"),
            (("/a//",), "/a"),
            (("//a",), "//a"),
            (("//a/",), "//a"),
            (("//a//",), "//a"),
            (("///a",), "/a"),
            (("///a/",), "/a"),
            (("///a//",), "/a"),
            (("////a",), "/a"),
            (("////a/",), "/a"),
            (("////a//",), "/a"),
            (("a/b",), "a/b"),
            (("a//b",), "a/b"),
            (("a/b/",), "a/b"),
            (("a//b/",), "a/b"),
            (("a/b//",), "a/b"),
            (("a//b//",), "a/b"),
            (("/a/b",), "/a/b"),
            (("/a//b",), "/a/b"),
            (("/a/b/",), "/a/b"),
            (("/a//b/",), "/a/b"),
            (("/a/b//",), "/a/b"),
            (("/a//b//",), "/a/b"),
            (("//a/b",), "//a/b"),
            (("//a//b",), "//a/b"),
            (("//a/b/",), "//a/b"),
            (("//a//b/",), "//a/b"),
            (("//a/b//",), "//a/b"),
            (("//a//b//",), "//a/b"),
            (("///a/b",), "/a/b"),
            (("///a//b",), "/a/b"),
            (("///a/b/",), "/a/b"),
            (("///a//b/",), "/a/b"),
            (("///a/b//",), "/a/b"),
            (("///a//b//",), "/a/b"),
            ((".",), "."),
            (("./",), "."),
            (("/.",), "/"),
            (("/./",), "/"),
            (("/.//",), "/"),
            (("//.",), "//"),
            (("//./",), "//"),
            (("//.//",), "//"),
            (("///.",), "/"),
            (("///./",), "/"),
            (("///.//",), "/"),
            (("////.",), "/"),
            (("////./",), "/"),
            (("////.//",), "/"),
            (("./b",), "b"),
            ((".//b",), "b"),
            (("./b/",), "b"),
            ((".//b/",), "b"),
            (("./b//",), "b"),
            ((".//b//",), "b"),
            (("/./b",), "/b"),
            (("/.//b",), "/b"),
            (("/./b/",), "/b"),
            (("/.//b/",), "/b"),
            (("/./b//",), "/b"),
            (("/.//b//",), "/b"),
            (("//./b",), "//b"),
            (("//.//b",), "//b"),
            (("//./b/",), "//b"),
            (("//.//b/",), "//b"),
            (("//./b//",), "//b"),
            (("//.//b//",), "//b"),
            (("///./b",), "/b"),
            (("///.//b",), "/b"),
            (("///./b/",), "/b"),
            (("///.//b/",), "/b"),
            (("///./b//",), "/b"),
            (("///.//b//",), "/b"),
            (("./.",), "."),
            ((".//.",), "."),
            (("././",), "."),
            ((".//./",), "."),
            (("././/",), "."),
            ((".//.//",), "."),
            (("/./.",), "/"),
            (("/.//.",), "/"),
            (("/././",), "/"),
            (("/.//./",), "/"),
            (("/././/",), "/"),
            (("/.//.//",), "/"),
            (("//./.",), "//"),
            (("//.//.",), "//"),
            (("//././",), "//"),
            (("//.//./",), "//"),
            (("//././/",), "//"),
            (("//.//.//",), "//"),
            (("///./.",), "/"),
            (("///.//.",), "/"),
            (("///././",), "/"),
            (("///.//./",), "/"),
            (("///././/",), "/"),
            (("///.//.//",), "/"),
        ):
            with self.subTest(f"{args} => {expected}"):
                self.assertEqual(
                    fathlib.PurePosixPath(*args), fathlib.PurePosixPath(expected)
                )
                self.assertEqual(
                    str(fathlib.PurePosixPath(*args)),
                    str(fathlib.PurePosixPath(expected)),
                )


if __name__ == "__main__":
    unittest.main()
